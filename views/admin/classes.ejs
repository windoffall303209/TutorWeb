<h1>Quản lý lớp học</h1>
<a href="/admin" class="btn btn-secondary mb-3">Quay lại</a>
<table class="table table-striped">
  <thead>
    <tr>
      <th>ID</th>
      <th>Tên phụ huynh</th>
      <th>Môn học</th>
      <th>Lớp</th>
      <th>Trạng thái</th>
      <th>Hành động</th>
    </tr>
  </thead>
  <tbody>
    <% classes.forEach(cls => { %>
    <tr>
      <td><%= cls.id %></td>
      <td><%= cls.parent_name %></td>
      <td><%= cls.subject %></td>
      <td><%= cls.grade %></td>
      <td><%= cls.is_active ? 'Hoạt động' : 'Vô hiệu hóa' %></td>
      <td>
        <a
          href="/admin/classes/edit/<%= cls.id %>"
          class="btn btn-warning btn-sm"
          >Sửa</a
        >
        <form
          action="/admin/classes/delete/<%= cls.id %>"
          method="POST"
          style="display: inline"
        >
          <button
            type="submit"
            class="btn btn-danger btn-sm"
            onclick="return confirm('Bạn chắc chắn muốn xóa?')"
          >
            Xóa
          </button>
        </form>
        <% if (cls.is_active) { %>
        <form
          action="/admin/classes/disable/<%= cls.id %>"
          method="POST"
          style="display: inline"
        >
          <button
            type="submit"
            class="btn btn-secondary btn-sm"
            onclick="return confirm('Bạn chắc chắn muốn vô hiệu hóa?')"
          >
            Vô hiệu hóa
          </button>
        </form>
        <% } else { %>
        <form
          action="/admin/classes/enable/<%= cls.id %>"
          method="POST"
          style="display: inline"
        >
          <button
            type="submit"
            class="btn btn-success btn-sm"
            onclick="return confirm('Bạn chắc chắn muốn kích hoạt lại?')"
          >
            Kích hoạt lại
          </button>
        </form>
        <% } %>
      </td>
    </tr>
    <% }) %>
  </tbody>
</table>

<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">
    <% if (currentPage > 1) { %>
    <li class="page-item">
      <a class="page-link" href="/admin/classes?page=<%= currentPage - 1 %>"
        >Trang trước</a
      >
    </li>
    <% } %> <% for (let i = 1; i <= totalPages; i++) { %>
    <li class="page-item <%= i === currentPage ? 'active' : '' %>">
      <a class="page-link" href="/admin/classes?page=<%= i %>"><%= i %></a>
    </li>
    <% } %> <% if (currentPage < totalPages) { %>
    <li class="page-item">
      <a class="page-link" href="/admin/classes?page=<%= currentPage + 1 %>"
        >Trang sau</a
      >
    </li>
    <% } %>
  </ul>
</nav>
